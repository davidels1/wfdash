{% extends "layouts/base.html" %}
{% load static %}

{% block title %} Repairs Management {% endblock %}

{% block stylesheets %}
{{ block.super }}
<link href="{% static 'assets/css/plugins/select2.min.css' %}" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" rel="stylesheet" />
<style>
  .status-badge {
    font-size: 0.85rem;
    padding: 0.5rem;
    border-radius: 0.375rem;
  }
  .status-received { background-color: #e9ecef; }
  .status-sent_for_quote { background-color: #cff4fc; }
  .status-quote_received { background-color: #d1e7dd; }
  .status-quote_sent { background-color: #fff3cd; }
  .status-quote_approved { background-color: #d1e7dd; }
  .status-repair_ordered { background-color: #cfe2ff; }
  .status-repair_in_progress { background-color: #e2e3e5; }
  .status-repaired { background-color: #d1e7dd; }
  .status-returned { background-color: #d1e7dd; }
  .status-cancelled { background-color: #f8d7da; }
  
  .repair-photo {
    max-width: 300px;
    border: 1px solid #dee2e6;
    border-radius: 0.25rem;
    padding: 0.25rem;
    margin-bottom: 1rem;
  }
  
  .timeline {
    position: relative;
    padding: 20px 0;
  }
  .timeline-item {
    position: relative;
    padding-left: 40px;
    margin-bottom: 15px;
  }
  .timeline-item:before {
    content: "";
    position: absolute;
    left: 10px;
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: #e9ecef;
  }
  .timeline-item-icon {
    position: absolute;
    left: 0;
    top: 0;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background-color: #0d6efd;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 10px;
  }
  .timeline-item-content {
    padding: 10px;
    border-radius: 5px;
    background-color: #f8f9fa;
  }
  
  /* Select2 styling to match your other forms */
  .select2-container--bootstrap5 .select2-selection {
    height: auto;
    padding: 0.375rem 0.75rem;
    font-size: 1rem;
    border: 1px solid #ced4da;
    border-radius: 0.25rem;
  }
  
  .select2-container--bootstrap5 .select2-selection--single .select2-selection__rendered {
    padding-left: 0;
    color: #212529;
  }
  
  .select2-container--bootstrap5 .select2-dropdown {
    border-color: #80bdff;
  }
  
  .select2-container--bootstrap5 .select2-results__option--highlighted[aria-selected] {
    background-color: #4e73df;
  }
  
  /* Form styling */
  .form-group label {
    font-size: 0.875rem;
    font-weight: 500;
    margin-bottom: 0.5rem;
    color: #344767;
  }
  
  .form-control, .form-select {
    border: 1px solid #d2d6da;
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
    line-height: 1.4;
    border-radius: 0.5rem;
    transition: all 0.15s ease-in-out;
  }
  
  .form-control:focus, .form-select:focus {
    border-color: #3b82f6;
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.25);
  }
</style>
{% endblock stylesheets %}

{% block content %}

    
    {% block repairs_content %}{% endblock repairs_content %}
    
    {% include 'includes/footer.html' %}
</div>
{% endblock content %}

{% block javascripts %}
{{ block.super }}
<script src="{% static 'assets/js/plugins/select2.min.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    // Initialize any tooltips
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl)
    });
    
    // Initialize any popovers
    var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
    var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
      return new bootstrap.Popover(popoverTriggerEl)
    });
    
    // Initialize Select2 for dropdown menus
    $('.form-select').select2({
      theme: 'bootstrap5',
      width: '100%'
    });
  });
</script>
{% endblock javascripts %}